namespace Skew.Tests {
  def toString(list List<int>) string {
    return "[" + ", ".join(list.map<string>(x => x.toString)) + "]"
  }

  def testUnicode(text string, codePoints List<int>) {
    testSimple("codePoints " + text, expectString => expectString(toString(codePoints), toString(text.codePoints)))
    testSimple("fromCodePoints " + text, expectString => expectString(text, string.fromCodePoints(codePoints)))
    testSimple("codeUnits " + text, expectString => expectString(text, string.fromCodeUnits(text.codeUnits)))
  }

  def testUnicode {
    testUnicode("Ğ¦Ğ»Ñ—Ï‚ÏƒÎ´Îµ", [1062, 1083, 1111, 962, 963, 948, 949])
    testUnicode("ï¾Œï¾‘ï½±ï¾‘ï½¶ï¾“ï½¹ï¾“", [65420, 65425, 65393, 65425, 65398, 65427, 65401, 65427])
    testUnicode("ãƒ•ãƒ ãƒ¤ãƒ ã‚«ãƒ¢ã‚±ãƒ¢", [12501, 12512, 12516, 12512, 12459, 12514, 12465, 12514])
    testUnicode("ãŠ€ãŠãŠ‚ãŠƒãŠ„", [12928, 12929, 12930, 12931, 12932])
    testUnicode("â˜³â˜¶â˜²", [9779, 9782, 9778])
    testUnicode("ğ¡‡™ğŒ†", [135641, 119558])
  }
}
